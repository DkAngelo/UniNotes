 > *Lezione del 23/09/2024*
 
- Tempo di risposta: tempo dall'inizio alla fine di un task, chiamato anche **elapsed time**
- Tempo di esecuzione: tempo esattamente utilizzato dalla CPU per eseguire un determinato task
- Latenza: si usa più per le memoria, ma il concetto del tempo di lavoro dall'inizio alla fine è sempre lo stesso
## Misurazione delle prestazioni
Esistono essenzialmente tre modi per vedere le prestazioni di un processore:
- **simulazione e profilazione:** usare dei software che simulano un architettura, ci permettono di simulare il funzionamento passo passo di una CPU o di un'intero calcolatore. Solitamente si usa per vedere quanto un cambiamento architetturale influisca sulle prestazioni. I profilatori sono un tipo specifico di simulatore di CPU.
- **benchmark:** software progettati per studiare il comportamento di una parte o di tutto il calcolatore in situazioni di stress.
- **modelli analitici:** modelli matematici, di solito semplificati, che ci permettono di capire come sta funzionando il calcolatore. Permette un'analisi a grandi linee.
## Simulatori
Non molto comuni e di solito software proprietari, ne esistono di diversi tipi:
- simulatori di sistema completo
- simulatori di microarchitettura
Dal punto di vista del dettaglio:
- simulatori funzionali (simulatori di set di istruzioni)
- simulatori di temporizzazioni (uguali ai precedenti ma con l'aggiunta di informazioni temporali, di solito in clock)
Poi ancora:
- simulatori basati su traccia (anche detti *basati su eventi*)
- simulatori basati su esecuzione (*profilatori*): identificazione dei colli di bottiglia, utilizzo della cache, analisi dei thread, analisi dell'efficienza energetica ecc.
## Modelli analitici
Si parla di tempo assoluto, anche se il riferimento è sempre al tempo trascorso, e tiene conto di:
- tempi di CPU
- tempi di accesso in memoria
- tempi di I/O
Solitamente il tempo di CPU e il tempo di accesso in memoria vengono considerati in un unico tempo. Il tempo di CPU è inoltre diviso in tempo di utente e il tempo di Sistema Operativo.
##### Formula 1: $$T_{CPU}=N_{CC}\cdot T_{CK}$$
$$T_{CPU}=\frac{N_{CC}}{f_{CK}}_{}$$
Dove: $T_{CPU}$ è il tempo di CPU,  $N_{CC}$ è il numero di giri di clock, $T_{CK}$ il tempo di clock e $f_{CK}$ la frequenza di clock.

##### Formula 2:
$$T_{CPU}=NI\cdot CPI\cdot T_{CK}$$
 > **CPI**, ***clock per instruction*:** numero di periodi di clock (medi) impiegati per eseguire un'istruzione considerando un insieme di programmi su una specifica CPU. I tipi di istruzioni possibili di CPU sono:
 > - **Istruzioni di ALU:** istruzioni coinvolgenti calcoli
 > - **Istruzioni load-store:** per leggere e scrivere da e sulle memorie
 > - **Istruzioni di controllo:** per controllare tutto il sistema (es. istruzione di Reset)

- **CPI medio**
$$CPI=\frac{N_{CC}}{NI}$$
Oppure:
$$CPI=\sum_{i=1}^{n}\left(x_{i}\cdot CPI_{i}\right)$$
- $N_{CC}$ = numero di clock count
- $NI$ = numero di istruzioni
- $x_{i}$ = occorrenza media dell'istruzione i-esima in un programma 
- $CPI_{i}$ = clock per instruction dell'istruzione i-esima

$NI$ dipende dall'ISA e dal grado di ottimizzazione del compilatore, $CPI$ dipende dall'architettura, dal repertorio delle istruzioni e dal calcolatore, mentre $T_{CK}$ o $f_{CK}$ dipendono alla tecnologia e organizzazione architetturale della CPU.